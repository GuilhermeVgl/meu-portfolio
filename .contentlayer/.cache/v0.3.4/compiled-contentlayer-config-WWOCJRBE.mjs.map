{
  "version": 3,
  "sources": ["../../../contentlayer.config.ts", "../../../lib/remark-code-title.ts", "../../../lib/remark-toc-headings.ts"],
  "sourcesContent": ["import { ComputedFields, defineDocumentType, makeSource } from 'contentlayer/source-files';\nimport readingTime from 'reading-time';\nimport rehypeAutolinkHeadings from 'rehype-autolink-headings';\nimport rehypePrismPlus from 'rehype-prism-plus';\nimport rehypeSlug from 'rehype-slug';\nimport remarkCodeTitles from './lib/remark-code-title';\nimport { extractTocHeadings } from './lib/remark-toc-headings';\n\nconst computedFields: ComputedFields = {\n  readingTime: { type: 'json', resolve: (doc) => readingTime(doc.body.raw) },\n  slug: {\n    type: 'string',\n    resolve: (doc) => doc._raw.flattenedPath.replace(/^.+?(\\/)/, ''),\n  },\n  toc: { type: 'string', resolve: (doc) => extractTocHeadings(doc.body.raw) },\n};\n\nexport const Blog = defineDocumentType(() => ({\n  name: 'Blog',\n  filePathPattern: 'blog/**/*.mdx',\n  contentType: 'mdx',\n  fields: {\n    title: { type: 'string', required: true },\n    date: { type: 'date', required: true },\n    tags: { type: 'list', of: { type: 'string' } },\n    lastmod: { type: 'date' },\n    draft: { type: 'boolean' },\n    summary: { type: 'string' },\n    images: { type: 'list', of: { type: 'string' } },\n    author: { type: 'string', required: true },\n    layout: { type: 'string' },\n    bibliography: { type: 'string' },\n    canonicalUrl: { type: 'string' },\n  },\n  computedFields,\n}));\n\nexport const Authors = defineDocumentType(() => ({\n  name: 'Authors',\n  filePathPattern: 'authors/**/*.mdx',\n  contentType: 'mdx',\n  fields: {\n    name: { type: 'string', required: true },\n    avatar: { type: 'string' },\n    occupation: { type: 'string' },\n    company: { type: 'string' },\n    email: { type: 'string' },\n    twitter: { type: 'string' },\n    linkedin: { type: 'string' },\n    github: { type: 'string' },\n    layout: { type: 'string' },\n  },\n  computedFields,\n}));\n\nexport default makeSource({\n  contentDirPath: 'content',\n  documentTypes: [Blog, Authors],\n  mdx: {\n    cwd: process.cwd(),\n    remarkPlugins: [remarkCodeTitles],\n    rehypePlugins: [rehypeSlug, rehypeAutolinkHeadings, [rehypePrismPlus, { ignoreMissing: true }]],\n  },\n});\n", "import { Parent } from 'unist';\nimport { visit } from 'unist-util-visit';\n\nexport default function remarkCodeTitles() {\n  return (tree: Parent & { lang?: string }) =>\n    visit(tree, 'code', (node: Parent & { lang?: string }, index, parent: Parent) => {\n      const nodeLang = node.lang || '';\n      let language = '';\n      let title = '';\n\n      if (nodeLang.includes(':')) {\n        language = nodeLang.slice(0, nodeLang.search(':'));\n        title = nodeLang.slice(nodeLang.search(':') + 1, nodeLang.length);\n      }\n\n      if (!title) {\n        return;\n      }\n\n      const className = 'remark-code-title';\n\n      const titleNode = {\n        type: 'mdxJsxFlowElement',\n        name: 'div',\n        attributes: [{ type: 'mdxJsxAttribute', name: 'className', value: className }],\n        children: [{ type: 'text', value: title }],\n        data: { _xdmExplicitJsx: true },\n      };\n\n      parent.children.splice(index, 0, titleNode);\n      node.lang = language;\n    });\n}\n", "import slugger from 'github-slugger';\nimport { Heading } from 'mdast';\nimport { toString } from 'mdast-util-to-string';\nimport { remark } from 'remark';\nimport { Toc } from 'types/Toc';\nimport { Parent } from 'unist';\nimport { visit } from 'unist-util-visit';\nimport { VFile } from 'vfile';\n\nexport function remarkTocHeadings() {\n  return (tree: Parent, file: VFile) => {\n    const toc: Toc = [];\n    visit(tree, 'heading', (node: Heading) => {\n      const textContent = toString(node);\n      toc.push({\n        value: textContent,\n        url: '#' + slugger.slug(textContent),\n        depth: node.depth,\n      });\n    });\n    file.data.toc = toc;\n  };\n}\n\nexport async function extractTocHeadings(markdown: string) {\n  const vfile = await remark().use(remarkTocHeadings).process(markdown);\n  return vfile.data.toc;\n}\n"],
  "mappings": "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",
  "names": ["visit"]
}
